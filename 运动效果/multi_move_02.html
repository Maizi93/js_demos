<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
		<title>多物体动画-透明度变化</title>
		<style type="text/css">
		  *{
		  	margin: 0;
		  	padding: 0;
		  }
		  div{
		  	width: 100px;
		  	height: 100px;
		  	float: left;
		  	margin-right: 10px;
            background-color: red;
		  	filter:alpha(opacity:30);
		  	opacity: 0.3;
		  }
		</style>

		<script type="text/javascript">
		  window.onload=function(){
		  	var oDiv=document.getElementsByTagName('div');
		  	for(var i=0;i<oDiv.length;i++){
		  		oDiv[i].timer=null;
		  		oDiv[i].alpha=30;
		  		oDiv[i].onmouseover=function(){
		  			changeOpacity(this,100);
		  		}
		  		oDiv[i].onmouseout=function(){
		  			changeOpacity(this,30);
		  		}
		  	}
		  }

		  function changeOpacity(obj,iTarget){
		  	clearInterval(obj.timer);
		  	obj.timer=setInterval(function(){
		  		var speed=(iTarget-obj.alpha)/10;
		  		speed=speed>0?Math.ceil(speed):Math.floor(speed);
		  	 	if(obj.alpha==iTarget){
		  	 		clearInterval(obj.timer);
		  	 	}else{
		  	 		obj.alpha+=speed;
		  	 		obj.style.filter=':alpha(opaticy:'+obj.alpha+')';
		  	 		obj.style.opacity=obj.alpha/100;
		  	 	}
		  	 },30);
		  }
		</script>
	</head>

	<body>
		<div id="div1"></div>
		<div id="div2"></div>
		<div id="div3"></div>
		<div id="div4"></div>
		<div id="div5"></div>
	</body>
</html>